-- üìç ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô ServerScriptService
-- ‡πÅ‡∏™‡∏î‡∏á Platform (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠/PC/Console) ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏π‡∏õ üõ†Ô∏è
-- ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô

local Players = game:GetService("Players")

-- ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
local Admins = {
	"‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô1",
	"‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô2"
}

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏´‡∏°
local function isAdmin(name)
	for _, adminName in ipairs(Admins) do
		if string.lower(adminName) == string.lower(name) then
			return true
		end
	end
	return false
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡πâ‡∏≤‡∏¢
local function createTag(player, platform)
	player.CharacterAdded:Connect(function(char)
		char:WaitForChild("Head")
		task.wait(1)
		local head = char:FindFirstChild("Head")
		if not head then return end

		-- ‡∏•‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤
		if head:FindFirstChild("PlatformTag") then
			head.PlatformTag:Destroy()
		end

		-- ‡∏™‡∏£‡πâ‡∏≤‡∏á BillboardGui
		local billboard = Instance.new("BillboardGui")
		billboard.Name = "PlatformTag"
		billboard.Size = UDim2.new(0, 200, 0, 40)
		billboard.Adornee = head
		billboard.StudsOffset = Vector3.new(0, 2.3, 0)
		billboard.AlwaysOnTop = false
		billboard.MaxDistance = 25 -- ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ 25 studs

		local textLabel = Instance.new("TextLabel")
		textLabel.Size = UDim2.new(1, 0, 1, 0)
		textLabel.BackgroundTransparency = 1
		textLabel.TextScaled = true
		textLabel.Font = Enum.Font.SourceSansBold
		textLabel.TextStrokeTransparency = 0.4
		textLabel.TextColor3 = Color3.new(1, 1, 1)

		local tagText = platform
		if isAdmin(player.Name) then
			tagText = tagText .. " | üõ†Ô∏è Admin"
			textLabel.TextColor3 = Color3.fromRGB(255, 170, 0) -- ‡∏™‡∏µ‡∏ó‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
		end
		textLabel.Text = tagText
		textLabel.Parent = billboard

		billboard.Parent = head
	end)
end

-- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏°
Players.PlayerAdded:Connect(function(player)
	-- ‡πÉ‡∏ä‡πâ RemoteEvent ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ù‡∏±‡πà‡∏á client ‡∏ï‡∏£‡∏ß‡∏à Platform ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
	local remote = Instance.new("RemoteEvent")
	remote.Name = "PlatformDetect"
	remote.Parent = player

	remote.OnServerEvent:Connect(function(_, platform)
		createTag(player, platform)
	end)
end)
